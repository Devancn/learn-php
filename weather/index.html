<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript">
        function f1(){
            //ajax无刷新获得天气信息
            var xhr=new XMLHttpRequest();
            xhr.onreadystatechange=function(){
                if(xhr.readyState==4){
//                    alert(xhr.responseText);
                    eval("var jn_info="+xhr.responseText);
                    var s="城市:"+jn_info.weatherinfo.city;
                    s+="风向:"+jn_info.weatherinfo.WD;
                    s+="湿度:"+jn_info.weatherinfo.SD;
                    document.getElementById('result').innerHTML=s;
                }
            };
            xhr.open('get','./data.php');
            xhr.send(null);
        }
    </script>
</head>
<body>
    <h2>天气预报显示</h2>
    <input type="button" value="获得天气" onclick="f1()">
    <div id="result"></div>
    <hr>
    <iframe width="420" scrolling="no" height="60" frameborder="0" allowtransparency="true" src="http://i.tianqi.com/index.php?c=code&id=12&icon=1&num=5"></iframe>
</body>
</html>